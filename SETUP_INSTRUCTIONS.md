# הוראות הגדרה והרצה - מחשב חדש

## שלב 1: בדיקת קבצים

ודא שיש לך את הקבצים הבאים:
- ✅ `package.json` - קובץ התלויות
- ✅ `.env.local` - קובץ משתני הסביבה (נוצר אוטומטית)
- ✅ `prisma/schema.prisma` - סכמת מסד הנתונים

## שלב 2: התקנת תלויות (רק בפעם הראשונה)

```bash
npm install
```

## שלב 3: הכנת מסד הנתונים

**חשוב:** מסד הנתונים נמצא ב-Neon (cloud), כך שכל המשתמשים והנתונים נשמרים שם ומשותפים בין כל המחשבים.

הרץ את הפקודות הבאות:

```bash
# יצירת Prisma Client
npm run db:generate

# הרצת מיגרציות (יוצר את הטבלאות במסד הנתונים)
npm run db:migrate

# יצירת משתמש admin (אם לא קיים)
npm run db:seed
```

## שלב 4: הרצת השרת

```bash
npm run dev
```

האתר יעלה על: **http://localhost:3000**

## שלב 5: בדיקת משתמשים

פתח בדפדפן:
- **http://localhost:3000/check-users**

בדף הזה תוכל:
- לראות את כל המשתמשים הקיימים במסד הנתונים
- ליצור משתמש admin אם לא קיים

## פרטי התחברות למשתמש Admin

אם יצרת משתמש admin:
- **אימייל:** `admin@example.com`
- **סיסמה:** `Admin123!`

## יצירת משתמשים חדשים

**כל משתמש שאתה יוצר דרך דף ההרשמה נשמר במסד הנתונים ב-Neon!**

1. פתח: **http://localhost:3000/auth/register**
2. מלא את הפרטים
3. בחר תפקיד (לקוח או בעל עסק)
4. לחץ "הרשמה"

המשתמש יישמר במסד הנתונים ויהיה זמין מכל מחשב אחר שמחובר לאותו מסד נתונים.

## פתרון בעיות

### שגיאת "Unexpected token '<'"
**פתרון:** השרת לא רץ. הרץ `npm run dev` בטרמינל.

### שגיאת חיבור למסד נתונים
**פתרון:**
1. ודא שיש חיבור לאינטרנט
2. בדוק את קובץ `.env.local` - ודא שה-`DATABASE_URL` נכון
3. ודא שהפרויקט ב-Neon פעיל

### שגיאת Prisma Client
**פתרון:** הרץ `npm run db:generate`

### טבלאות לא קיימות
**פתרון:** הרץ `npm run db:migrate`

## הערות חשובות

✅ **כל הנתונים נשמרים ב-Neon cloud** - זה אומר שאם תפתח את האתר ממחשב אחר עם אותו `DATABASE_URL`, תראה את אותם משתמשים ונתונים.

✅ **משתמשים שנשמרים דרך דף ההרשמה נשמרים במסד הנתונים** - לא צריך לעשות כלום נוסף.

✅ **הסיסמאות מוצפנות** - במסד הנתונים נשמר hash של הסיסמה, לא הסיסמה עצמה.



